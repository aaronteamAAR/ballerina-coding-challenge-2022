{"projectName":"problem_5_2","totalTests":1,"passed":1,"failed":0,"skipped":0,"coveredLines":37,"missedLines":2,"coveragePercentage":94.87,"moduleStatus":[{"name":"problem_5_2","totalTests":1,"passed":1,"failed":0,"skipped":0,"tests":[{"name":"testGqlService","status":"PASSED"}]},{"name":"problem_5_2.back_ends","totalTests":0,"passed":0,"failed":0,"skipped":0,"tests":[]}],"moduleCoverage":[{"name":"problem_5_2","coveredLines":15,"missedLines":0,"coveragePercentage":100.0,"sourceFiles":[{"name":"types.bal","coveredLines":[3,8,12,17,25,31,39],"missedLines":[],"coveragePercentage":100.0,"sourceCode":"type StepsApiResponse record {|\r\n  StepsActivityData[] activity;\r\n|};\r\n\r\ntype StepsActivityData record {|\r\n  string date;\r\n  int steps;\r\n|};\r\n\r\ntype HeartApiResponse record {|\r\n  HeartActivityData[] activity;\r\n|};\r\n\r\ntype HeartActivityData record {|\r\n  string date;\r\n  HeartData heart;\r\n|};\r\n\r\ntype HeartData record {|\r\n  decimal caloriesOut;\r\n  int max;\r\n  int min;\r\n  int minutes;\r\n  string name;\r\n|};\r\n\r\ntype ActivityDetails record {|\r\n  readonly string date;\r\n  int steps;\r\n  Heart heart;\r\n|};\r\n\r\ntype Heart record {|\r\n  int min;\r\n  int max;\r\n  decimal caloriesOut;\r\n  int minutes;\r\n  string name;\r\n|};"},{"name":"service.bal","coveredLines":[8,13,14,15,17,18,19,20],"missedLines":[],"coveragePercentage":100.0,"sourceCode":"import ballerina/http;\nimport ballerina/graphql;\n\n// Don\u0027t change the port number\nhttp:Client stepsEPClient \u003d check new (\"http://localhost:9091/activities/v2/steps/user\");\nhttp:Client heartEPClient \u003d check new (\"http://localhost:9091/activities/v2/heart/user\");\n\nservice /graphql on new graphql:Listener(9090) {\n\n    // Write your answer here. You must change the input and\n    // the output of the below signature along with the logic.\n\n    resource function get activity(string ID) returns ActivityDetails[]|error {\n        StepsApiResponse stepsRes \u003d check stepsEPClient-\u003eget(\"/\"+ID);\n        HeartApiResponse heartRes \u003d check heartEPClient-\u003eget(\"/\"+ID);\n\n        table\u003cActivityDetails\u003e key(date) activityDetailsTable \u003d table key(date) from StepsActivityData step in stepsRes.activity join HeartActivityData heart in heartRes.activity on step.date equals heart.date select {date: step.date, steps: step.steps, heart: {min: heart.heart.min, max: heart.heart.max, minutes: heart.heart.minutes, caloriesOut: heart.heart.caloriesOut, name: heart.heart.name}};\n        return activityDetailsTable.toArray();\n    }\n}\n\n"}]},{"name":"problem_5_2.back_ends","coveredLines":22,"missedLines":2,"coveragePercentage":91.67,"sourceFiles":[{"name":"fitfit_activity_api.bal","coveredLines":[8,11,12,14,15,16,17,19,20,24,25,27,29,30,31,32,34,35,39,40,42,43],"missedLines":[21,36],"coveragePercentage":91.67,"sourceCode":"import ballerina/log;\nimport ballerina/os;\nimport ballerina/io;\nimport ballerina/http;\n\nconfigurable int activity_port \u003d 9091;\n\nservice /activities/v2 on new http:Listener(activity_port) {\n\n    function init() {\n        log:printInfo(\"Started Fifit activity API\", host \u003d \"0.0.0.0\", port \u003d activity_port);\n    }\n    \n    resource function get steps/user/[string id]() returns json|error {\n        string dataSource \u003d os:getEnv(\"DATA_SOURCE\");\n        if dataSource \u003d\u003d \"\" {\n            dataSource \u003d \"tests/resources/data.json\";\n        }\n        json|io:Error data \u003d io:fileReadJson(dataSource);\n        if data is io:Error {\n            return error(\"Failed to load data\");\n        }\n        \n        return {\n            \"activity\": check data.stepsActivity\n        };\n    }\n\n    resource function get heart/user/[string id]() returns json|error {\n        string dataSource \u003d os:getEnv(\"DATA_SOURCE\");\n        if dataSource \u003d\u003d \"\" {\n            dataSource \u003d \"tests/resources/data.json\";\n        }\n        json|io:Error data \u003d io:fileReadJson(dataSource);\n        if data is io:Error {\n            return error(\"Failed to load data\");\n        }\n        \n        return {\n            \"activity\": check data.heartActivity\n        };\n    }\n}\n"}]}]}